<!DOCTYPE html>
<html lang="zh-CN" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Research - 李磊 LI Lei</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext x='12' y='32' font-size='34' fill='%239CA3AF'%3E%E2%98%85%3C/text%3E%3Ctext x='44' y='20' font-size='18' fill='%239CA3AF'%3E%E2%98%85%3C/text%3E%3Ctext x='66' y='40' font-size='12' fill='%239CA3AF'%3E%E2%98%85%3C/text%3E%3Ctext x='28' y='62' font-size='14' fill='%239CA3AF'%3E%E2%98%85%3C/text%3E%3Ctext x='60' y='70' font-size='20' fill='%239CA3AF'%3E%E2%98%85%3C/text%3E%3C/svg%3E">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'primary-blue': '#3B82F6',
                        'dark-text': '#11182B',
                        'light-gray': '#F3F4F6',
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease-out;
        }
        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .nav-link {
            position: relative;
            transition: all 0.3s ease;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
        }
        .nav-link:hover {
            background-color: #FEF3C7;
            color: #F97316 !important;
        }
        .nav-link.active {
            background-color: #F3F4F6;
            color: #374151 !important;
            padding: 0.25rem 0.5rem;
            border-radius: 0.375rem;
        }
        .section-padding {
            padding: 6rem 0;
        }
        @media (max-width: 768px) {
            .section-padding {
                padding: 4rem 0;
            }
        }
        /* 小精灵聊天机器人样式 */
        .chatbot-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            transition: all 0.3s ease;
            z-index: 1000;
            animation: float 3s ease-in-out infinite;
        }
        .chatbot-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 25px rgba(0, 0, 0, 0.2);
        }
        .chatbot-toggle i {
            color: white;
            font-size: 24px;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        .chatbot-window {
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 350px;
            height: 500px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
            display: none;
            flex-direction: column;
            z-index: 1001;
            overflow: hidden;
            transform: translateY(20px);
            opacity: 0;
            transition: all 0.3s ease;
        }
        .chatbot-window.show {
            display: flex;
            transform: translateY(0);
            opacity: 1;
        }
        .chatbot-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .chatbot-header h3 {
            margin: 0;
            font-size: 16px;
            font-weight: 600;
        }
        .chatbot-close {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 18px;
            padding: 5px;
            border-radius: 50%;
            transition: background-color 0.2s;
        }
        .chatbot-close:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }
        .chatbot-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .message {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 18px;
            font-size: 14px;
            line-height: 1.4;
        }
        .message.user {
            background: #e3f2fd;
            color: #1976d2;
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }
        .message.bot {
            background: #f5f5f5;
            color: #333;
            align-self: flex-start;
            border-bottom-left-radius: 5px;
        }
        .chatbot-input {
            padding: 15px 20px;
            border-top: 1px solid #eee;
            display: flex;
            gap: 10px;
        }
        .chatbot-input input {
            flex: 1;
            border: 1px solid #ddd;
            border-radius: 20px;
            padding: 10px 15px;
            font-size: 14px;
            outline: none;
            transition: border-color 0.2s;
        }
        .chatbot-input input:focus {
            border-color: #667eea;
        }
        .chatbot-send {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.2s;
        }
        .chatbot-send:hover {
            transform: scale(1.05);
        }
        .typing-indicator {
            display: none;
            align-items: center;
            gap: 5px;
            padding: 12px 16px;
            background: #f5f5f5;
            border-radius: 18px;
            border-bottom-left-radius: 5px;
            max-width: 80px;
        }
        .typing-dot {
            width: 8px;
            height: 8px;
            background: #999;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }
        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }
        @media (max-width: 480px) {
            .chatbot-window {
                width: calc(100vw - 40px);
                right: 20px;
                left: 20px;
            }
        }
    </style>
</head>
<body class="bg-white text-dark-text">
    <!-- Navigation -->
    <nav class="sticky top-0 z-50 bg-white/95 backdrop-blur-sm border-b border-gray-100">
        <div class="max-w-7xl mx-auto px-3 sm:px-4 lg:px-6">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-3">
                    <!-- 香港大学 Logo -->
                    <div class="flex items-center">
                        <img src="material/0-Icon/2d.jpg" alt="香港大学 University of Hong Kong" class="h-8 w-auto opacity-80 hover:opacity-100 transition-opacity">
                    </div>
                    <a href="home.html" class="text-xl font-bold text-dark-text hover:text-primary-orange transition-colors cursor-pointer">
                        李磊 LI Lei
                    </a>
                </div>
                <div class="hidden md:flex space-x-8 items-center">
                    <a href="home.html" class="nav-link text-dark-text hover:text-primary-orange" data-zh="首页" data-en="Home">首页</a>
                    <a href="research.html" class="nav-link text-dark-text hover:text-primary-orange" data-zh="研究" data-en="Research">研究</a>
                    <a href="projects.html" class="nav-link text-dark-text hover:text-primary-orange" data-zh="项目" data-en="Projects">项目</a>
                    <a href="material/0-personal/产品简历_李磊_2508311.pdf" download class="nav-link text-dark-text hover:text-primary-orange" data-zh="简历" data-en="CV">简历</a>
                    <!-- Language Toggle -->
                    <button id="langToggle" class="ml-4 flex items-center space-x-1 text-sm bg-gray-100 hover:bg-gray-200 px-3 py-1.5 rounded-lg transition-colors">
                        <i class="fas fa-globe text-primary-orange"></i>
                        <span id="currentLang">中</span>
                    </button>
                </div>
                <!-- Mobile menu button -->
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="text-dark-text">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-gray-100">
            <div class="px-4 py-4 space-y-4">
                <a href="home.html" class="block text-dark-text hover:text-primary-orange hover:bg-orange-50 px-3 py-2 rounded-lg transition-colors" data-zh="首页" data-en="Home">首页</a>
                <a href="research.html" class="block text-dark-text hover:text-primary-orange hover:bg-orange-50 px-3 py-2 rounded-lg transition-colors" data-zh="研究" data-en="Research">研究</a>
                <a href="projects.html" class="block text-dark-text hover:text-primary-orange hover:bg-orange-50 px-3 py-2 rounded-lg transition-colors" data-zh="项目" data-en="Projects">项目</a>
                <a href="material/0-personal/产品简历_李磊_2508311.pdf" download class="block text-dark-text hover:text-primary-orange hover:bg-orange-50 px-3 py-2 rounded-lg transition-colors" data-zh="简历" data-en="CV">简历</a>
                <button id="langToggleMobile" class="block w-full text-left text-dark-text hover:text-primary-orange hover:bg-orange-50 px-3 py-2 rounded-lg transition-colors flex items-center space-x-2">
                    <i class="fas fa-globe text-primary-orange"></i>
                    <span data-zh="切换语言" data-en="Language">切换语言</span>
                    <span id="currentLangMobile">中</span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Research Section -->
    <section class="section-padding bg-light-gray">
        <div class="max-w-7xl mx-auto px-3 sm:px-4 lg:px-6">
            <div class="fade-in text-center mb-16">
                <h1 class="text-5xl font-bold text-dark-text mb-4" data-zh="研究" data-en="Research">研究</h1>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto" data-zh="探索AI技术在产品化应用中的创新实践，从学术研究到市场洞察" data-en="Exploring innovative practices of AI technology in product applications, from academic research to market insights">
                    探索AI技术在产品化应用中的创新实践，从学术研究到市场洞察
                </p>
                <div class="w-20 h-1 bg-primary-blue mx-auto mt-8"></div>
            </div>

            <div class="space-y-12">
                <!-- Research Entry 1 -->
                <div class="fade-in">
                    <div class="bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden">
                        <div class="grid lg:grid-cols-2 gap-0">
                            <div class="p-6 lg:p-8">
                                <div class="mb-6">
                                    <div class="flex items-center justify-between mb-4">
                                        <span class="inline-block bg-gradient-to-r from-cyan-500 to-teal-600 text-white px-4 py-2 rounded-full text-sm font-medium" data-zh="市场研究报告" data-en="Market Research">
                                            市场研究报告
                                        </span>
                                        <span class="inline-block text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">2025</span>
                                    </div>
                                    <h2 class="text-2xl font-bold text-dark-text mb-3" data-zh="智能体市场分析研究报告" data-en="AI Agent Market Analysis Report">
                                        智能体市场分析研究报告
                                    </h2>
                                    <p class="text-gray-600 leading-relaxed">
                                        在 <span class="font-semibold text-primary-blue">云鲸致</span> 担任 <span class="font-semibold">AI产品经理</span> 期间，负责 <span class="font-semibold text-primary-blue">云秒搭智能体平台</span> 的 <span class="font-semibold">0-1 定义</span> 与战略规划。通过 <span class="font-semibold">深度市场分析</span>，为产品找到 <span class="font-semibold">差异化定位</span>。
                                    </p>
                                </div>
                                <div class="mb-6">
                                    <h3 class="font-semibold text-gray-800 mb-2">研究背景</h3>
                                    <p class="text-gray-600 text-sm leading-relaxed">
                                        2024年AI Agent赛道快速发展，但市场同质化严重。需要通过系统性研究找到产品的核心差异化价值。
                                    </p>
                                </div>
                                <div>
                                    <h3 class="font-semibold text-gray-800 mb-3">核心贡献</h3>
                                    <ul class="space-y-2 text-gray-600 text-sm">
                                        <li class="flex items-start">
                                            <i class="fas fa-check-circle text-primary-blue mt-1 mr-3 flex-shrink-0"></i>
                                            通过对Coze, Dify等5款竞品的深度拆解，识别市场空白
                                        </li>
                                        <li class="flex items-start">
                                            <i class="fas fa-check-circle text-primary-blue mt-1 mr-3 flex-shrink-0"></i>
                                            访谈超过10位垂直行业商家，精准洞察用户需求与痛点
                                        </li>
                                        <li class="flex items-start">
                                            <i class="fas fa-check-circle text-primary-blue mt-1 mr-3 flex-shrink-0"></i>
                                            绘制产品路线图，确立"垂直行业解决方案工厂"的核心战略定位
                                        </li>
                                        <li class="flex items-start">
                                            <i class="fas fa-check-circle text-primary-blue mt-1 mr-3 flex-shrink-0"></i>
                                            负责底层多模态模型选型，使关键指标识别率领先竞品 <span class="font-semibold text-green-700">+15%</span>
                                        </li>
                                    </ul>
                                    <div class="flex flex-wrap gap-2 mb-4">
                                        <span class="bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs font-medium">市场分析</span>
                                        <span class="bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs font-medium">用户访谈</span>
                                        <span class="bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs font-medium">产品战略</span>
                                    </div>
                                    <button onclick="openAgentModal()" class="mt-6 bg-gradient-to-r from-cyan-500 to-teal-600 text-white px-6 py-2 rounded-lg hover:from-cyan-600 hover:to-teal-700 transition-all shadow-lg" data-zh="查看详细" data-en="Learn More">查看详细</button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-slate-50 via-cyan-50 to-teal-100 p-6 lg:p-8 flex items-center justify-center">
                                <div class="text-center">
                                    <i class="fas fa-robot text-6xl bg-gradient-to-r from-cyan-600 to-teal-600 bg-clip-text text-transparent mb-4"></i>
                                    <h4 class="text-lg font-semibold text-slate-700 mb-2">AI Agent Market</h4>
                                    <p class="text-slate-600 text-sm">竞品分析 • 用户访谈 • 战略定位</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Research Entry 2 -->
                <div class="fade-in">
                    <div class="bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden">
                        <div class="grid lg:grid-cols-2 gap-0">
                            <div class="bg-gradient-to-br from-slate-50 via-emerald-50 to-green-100 p-6 lg:p-8 flex items-center justify-center order-2 lg:order-1">
                                <div class="text-center">
                                    <i class="fas fa-brain text-6xl bg-gradient-to-r from-emerald-600 to-green-600 bg-clip-text text-transparent mb-4"></i>
                                    <h4 class="text-lg font-semibold text-slate-700 mb-2">Zero-Shot Classification</h4>
                                    <p class="text-slate-600 text-sm">CAAD FUTURES 2025 • 一作论文</p>
                                </div>
                            </div>
                            <div class="p-6 lg:p-8 order-1 lg:order-2">
                                <div class="mb-6">
                                    <div class="flex items-center justify-between mb-4">
                                        <span class="inline-block bg-gradient-to-r from-emerald-500 to-green-600 text-white px-4 py-2 rounded-full text-sm font-medium" data-zh="学术论文" data-en="Academic Paper">
                                            学术论文
                                        </span>
                                        <span class="inline-block text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">2024-2025</span>
                                    </div>
                                    <h2 class="text-2xl font-bold text-dark-text mb-3" data-zh="Zero-Shot建筑风格分类与大语言模型" data-en="Zero-Shot Architectural Style Classification with LLM">
                                        Zero-Shot Architectural Style Classification with LLM
                                    </h2>
                                    <p class="text-gray-600 leading-relaxed">
                                        香港大学研究助理工作期间，研究AIGC赋能建筑设计，并发表一作论文于CAAD FUTURES 2025国际会议。
                                    </p>
                                </div>
                                <div class="mb-6">
                                    <h3 class="font-semibold text-gray-800 mb-2">研究问题</h3>
                                    <p class="text-gray-600 text-sm leading-relaxed">
                                        传统建筑风格识别依赖大量标注数据，如何利用大语言模型实现零样本建筑风格分类？
                                    </p>
                                </div>
                                <div>
                                    <h3 class="font-semibold text-gray-800 mb-3">核心创新</h3>
                                    <ul class="space-y-2 text-gray-600 text-sm">
                                        <li class="flex items-start">
                                            <i class="fas fa-check-circle text-green-600 mt-1 mr-3 flex-shrink-0"></i>
                                            定义了从"意图识别"到"参数化模型"的AI自动化工作流，效率提升 <span class="font-semibold text-green-700">7倍</span>
                                        </li>
                                        <li class="flex items-start">
                                            <i class="fas fa-check-circle text-green-600 mt-1 mr-3 flex-shrink-0"></i>
                                            独立负责0-1图像识别MVP，通过GPT-4V与高级Prompt工程，将识别准确率从 <span class="font-semibold">62%</span> 提升至 <span class="font-semibold text-green-700">85%</span>
                                        </li>
                                        <li class="flex items-start">
                                            <i class="fas fa-check-circle text-green-600 mt-1 mr-3 flex-shrink-0"></i>
                                            利用Vibe Coding于 <span class="font-semibold">一周</span> 内完成从原型到Web MVP的敏捷开发闭环
                                        </li>
                                        <li class="flex items-start">
                                            <i class="fas fa-check-circle text-green-600 mt-1 mr-3 flex-shrink-0"></i>
                                            论文被CAAD FUTURES 2025接收，展示了AI在建筑领域的应用潜力
                                        </li>
                                    </ul>
                                </div>
                                <div class="flex flex-wrap gap-2 mb-4">
                                    <span class="bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs font-medium">GPT-4V</span>
                                    <span class="bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs font-medium">计算机视觉</span>
                                    <span class="bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs font-medium">机器学习</span>
                                </div>
                                <div class="mt-6">
                                    <button onclick="openPaperModal()" class="bg-gradient-to-r from-emerald-500 to-green-600 text-white px-6 py-2 rounded-lg hover:from-emerald-600 hover:to-green-700 transition-all shadow-lg" data-zh="查看论文" data-en="View Paper">
                                        查看论文
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>



                <!-- Research Entry 3 -->
                <div class="fade-in">
                    <div class="bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden">
                        <div class="grid lg:grid-cols-2 gap-0">
                            <div class="p-6 lg:p-8">
                                <div class="mb-6">
                                    <div class="flex items-center justify-between mb-4">
                                        <span class="inline-block bg-gradient-to-r from-rose-500 to-pink-600 text-white px-4 py-2 rounded-full text-sm font-medium" data-zh="数据科学研究" data-en="Data Science Research">
                                            数据科学研究
                                        </span>
                                        <span class="inline-block text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">2023</span>
                                    </div>
                                    <h2 class="text-2xl font-bold text-dark-text mb-3" data-zh="深圳微博情绪与房价关系研究" data-en="Shenzhen Weibo Sentiment & Housing Price Research">
                                        深圳微博情绪与房价关系研究
                                    </h2>
                                    <p class="text-gray-600 leading-relaxed">
                                        与MIT学者合作，旨在探索社交媒体公众情绪与房地产市场波动之间的量化关系。
                                    </p>
                                </div>
                                <div class="mb-6">
                                    <h3 class="font-semibold text-gray-800 mb-2">研究问题</h3>
                                    <p class="text-gray-600 text-sm leading-relaxed">
                                        社交媒体情绪能否作为房地产市场波动的 <span class="font-semibold">先行指标</span>？如何量化 <span class="font-semibold">公众情绪</span> 与 <span class="font-semibold">房价变化</span> 的相关性？
                                    </p>
                                </div>
                                <div>
                                    <h3 class="font-semibold text-gray-800 mb-3">核心发现</h3>
                                    <ul class="space-y-2 text-gray-600 text-sm">
                                        <li class="flex items-start">
                                            <i class="fas fa-check-circle text-orange-600 mt-1 mr-3 flex-shrink-0"></i>
                                            主导数据工程，清洗整合 <span class="font-semibold">50万+</span> 微博与 <span class="font-semibold">2万</span> 条房产交易数据
                                        </li>
                                        <li class="flex items-start">
                                            <i class="fas fa-check-circle text-orange-600 mt-1 mr-3 flex-shrink-0"></i>
                                            利用 <span class="font-semibold">飞桨NLP</span> 模型量化公众情绪，构建时间序列数据集
                                        </li>
                                        <li class="flex items-start">
                                            <i class="fas fa-check-circle text-orange-600 mt-1 mr-3 flex-shrink-0"></i>
                                            应用 <span class="font-semibold">地理加权回归（GWR）</span> 模型，挖掘出“情绪为房价先行指标”的核心洞察
                                        </li>
                                        <li class="flex items-start">
                                            <i class="fas fa-check-circle text-orange-600 mt-1 mr-3 flex-shrink-0"></i>
                                            构建可提供 <span class="font-semibold">市场风险预警</span> 的动态热力图，验证情绪指标的 <span class="font-semibold text-green-700">预测能力</span>
                                        </li>
                                    </ul>
                                </div>
                                <div class="flex flex-wrap gap-2 mb-4">
                                    <span class="bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs font-medium">Python</span>
                                    <span class="bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs font-medium">NLP</span>
                                    <span class="bg-gray-100 text-gray-600 px-2 py-1 rounded text-xs font-medium">GWR</span>
                                </div>
                                <div class="mt-6">
                                                        <button onclick="openHousingModal()" class="bg-gradient-to-r from-rose-500 to-pink-600 text-white px-6 py-2 rounded-lg hover:from-rose-600 hover:to-pink-700 transition-all shadow-lg" data-zh="查看详细成果" data-en="View Detailed Results">
                        查看详细成果
                    </button>
                                </div>
                            </div>
                            <div class="bg-gradient-to-br from-slate-50 via-rose-50 to-pink-100 p-6 lg:p-8 flex items-center justify-center order-2 lg:order-1">
                                <div class="text-center">
                                    <i class="fas fa-chart-line text-6xl bg-gradient-to-r from-rose-600 to-pink-600 bg-clip-text text-transparent mb-4"></i>
                                    <h4 class="text-lg font-semibold text-slate-700 mb-2">Sentiment Analysis</h4>
                                    <p class="text-slate-600 text-sm">NLP • GWR • 预测模型</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Research Methodology Section -->
    <section class="section-padding bg-white">
        <div class="max-w-7xl mx-auto px-3 sm:px-4 lg:px-6">
            <div class="fade-in">
                <div class="bg-white rounded-2xl shadow-lg border border-gray-100 p-8 lg:p-12">
                    <h2 class="text-3xl font-bold text-dark-text text-center mb-12" data-zh="研究方法论" data-en="Research Methodology">研究方法论</h2>
                    <div class="grid md:grid-cols-3 gap-8">
                        <div class="text-center">
                            <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-search text-2xl text-primary-blue"></i>
                            </div>
                            <h3 class="text-xl font-semibold text-dark-text mb-3" data-zh="深度调研" data-en="In-depth Research">深度调研</h3>
                            <p class="text-gray-600" data-zh="通过竞品分析、用户访谈、文献调研等方式，全面了解问题背景和市场现状" data-en="Comprehensive understanding of problem context and market status through competitive analysis, user interviews, literature research and other methods">
                                通过竞品分析、用户访谈、文献调研等方式，全面了解问题背景和市场现状
                            </p>
                        </div>
                        <div class="text-center">
                            <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-lightbulb text-2xl text-green-600"></i>
                            </div>
                            <h3 class="text-xl font-semibold text-dark-text mb-3" data-zh="创新设计" data-en="Innovative Design">创新设计</h3>
                            <p class="text-gray-600" data-zh="基于调研结果，提出创新的解决方案和技术路径，注重实用性和可行性" data-en="Based on research results, propose innovative solutions and technical approaches with focus on practicality and feasibility">
                                基于调研结果，提出创新的解决方案和技术路径，注重实用性和可行性
                            </p>
                        </div>
                        <div class="text-center">
                            <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-chart-line text-2xl text-purple-600"></i>
                            </div>
                            <h3 class="text-xl font-semibold text-dark-text mb-3" data-zh="验证优化" data-en="Validation & Optimization">验证优化</h3>
                            <p class="text-gray-600" data-zh="通过MVP开发、数据验证、用户反馈等方式，不断迭代优化解决方案" data-en="Continuously iterate and optimize solutions through MVP development, data validation, user feedback and other methods">
                                通过MVP开发、数据验证、用户反馈等方式，不断迭代优化解决方案
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Housing Research Modal -->
    <div id="housingModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto">
            <div class="p-6 border-b border-gray-200 flex justify-between items-center">
                <h2 class="text-2xl font-bold text-dark-text" data-zh="深圳房价与微博情绪关系研究" data-en="Shenzhen Housing Prices & Weibo Sentiment Analysis">深圳房价与微博情绪关系研究</h2>
                <button onclick="closeHousingModal()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div class="p-6">
                <div class="mb-6">
                    <h3 class="text-lg font-semibold text-dark-text mb-3" data-zh="研究成果展示" data-en="Research Results">研究成果展示</h3>
                    <p class="text-gray-600 mb-4" data-zh="与MIT学者合作，通过分析50万+微博数据和2万条房产交易数据，构建了情绪与房价关系的预测模型。" data-en="Collaborated with MIT scholars to analyze 500k+ Weibo data and 20k real estate transaction records, building a predictive model for the relationship between sentiment and housing prices.">
                        与MIT学者合作，通过分析50万+微博数据和2万条房产交易数据，构建了情绪与房价关系的预测模型。
                    </p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="bg-gray-50 rounded-lg p-4">
                        <img src="material/1-房价数据/Jobs-20250328-打印_页面_16.jpg" alt="研究项目概述" class="w-full h-auto rounded-lg shadow-md mb-3 cursor-pointer hover:opacity-90 transition-opacity" onclick="openHousingImageViewer(0)">
                        <p class="text-sm text-gray-600" data-zh="研究项目概述与背景介绍" data-en="Research Overview & Background">研究项目概述与背景介绍</p>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-4">
                        <img src="material/1-房价数据/Jobs-20250328-打印_页面_17.jpg" alt="微博情绪分析工作流程" class="w-full h-auto rounded-lg shadow-md mb-3 cursor-pointer hover:opacity-90 transition-opacity" onclick="openHousingImageViewer(1)">
                        <p class="text-sm text-gray-600" data-zh="Bi-LSTM模型与情绪分析方法" data-en="Bi-LSTM Model & Sentiment Analysis">Bi-LSTM模型与情绪分析方法</p>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-4">
                        <img src="material/1-房价数据/Jobs-20250328-打印_页面_18.jpg" alt="空间分布系数分析" class="w-full h-auto rounded-lg shadow-md mb-3 cursor-pointer hover:opacity-90 transition-opacity" onclick="openHousingImageViewer(2)">
                        <p class="text-sm text-gray-600" data-zh="深圳各区域情绪与房价相关性分析" data-en="Regional Sentiment-Price Correlation">深圳各区域情绪与房价相关性分析</p>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-4">
                        <img src="material/1-房价数据/Jobs-20250328-打印_页面_19.jpg" alt="微博与房价数据框架" class="w-full h-auto rounded-lg shadow-md mb-3 cursor-pointer hover:opacity-90 transition-opacity" onclick="openHousingImageViewer(3)">
                        <p class="text-sm text-gray-600" data-zh="数据处理框架与POI分类" data-en="Data Processing Framework & POI Classification">数据处理框架与POI分类</p>
                    </div>
                </div>
                <div class="mt-4">
                    <div class="bg-gray-50 rounded-lg p-4 max-w-md mx-auto">
                        <img src="material/1-房价数据/Jobs-20250328-打印_页面_20.jpg" alt="GWR建模相关性分析" class="w-full h-auto rounded-lg shadow-md mb-3 cursor-pointer hover:opacity-90 transition-opacity" onclick="openHousingImageViewer(4)">
                        <p class="text-sm text-gray-600 text-center" data-zh="地理加权回归模型分析结果" data-en="GWR Model Analysis Results">地理加权回归模型分析结果</p>
                    </div>
                </div>
                <div class="mt-6 bg-blue-50 rounded-lg p-4">
                    <h4 class="font-semibold text-dark-text mb-2" data-zh="核心发现" data-en="Key Findings">核心发现</h4>
                    <ul class="text-sm text-gray-700 space-y-1">
                        <li data-zh="• 公众情绪可作为房价波动的先行指标" data-en="• Public sentiment serves as a leading indicator for housing price fluctuations">• 公众情绪可作为房价波动的先行指标</li>
                        <li data-zh="• 负面情绪峰值通常领先房价下跌2-3个月" data-en="• Negative sentiment peaks typically precede housing price declines by 2-3 months">• 负面情绪峰值通常领先房价下跌2-3个月</li>
                        <li data-zh="• 构建的GWR模型预测准确率达到78%" data-en="• The developed GWR model achieved 78% prediction accuracy">• 构建的GWR模型预测准确率达到78%</li>
                        <li data-zh="• 为房地产市场风险预警提供了新的数据维度" data-en="• Provides a new data dimension for real estate market risk warning">• 为房地产市场风险预警提供了新的数据维度</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Image Viewer Modal -->
    <div id="imageViewer" class="fixed inset-0 bg-black bg-opacity-90 hidden z-[60] flex items-center justify-center p-4">
        <div class="relative w-full h-full flex items-center justify-center">
            <!-- Close button -->
            <button onclick="closeImageViewer()" class="absolute top-6 right-6 text-white text-3xl hover:text-gray-300 z-20 bg-black bg-opacity-50 w-12 h-12 rounded-full flex items-center justify-center">
                <i class="fas fa-times"></i>
            </button>
            
            <!-- Previous button -->
            <button onclick="previousImage()" class="absolute left-6 top-1/2 transform -translate-y-1/2 text-white text-4xl hover:text-gray-300 z-20 bg-black bg-opacity-50 w-16 h-16 rounded-full flex items-center justify-center">
                <i class="fas fa-chevron-left"></i>
            </button>
            
            <!-- Next button -->
            <button onclick="nextImage()" class="absolute right-6 top-1/2 transform -translate-y-1/2 text-white text-4xl hover:text-gray-300 z-20 bg-black bg-opacity-50 w-16 h-16 rounded-full flex items-center justify-center">
                <i class="fas fa-chevron-right"></i>
            </button>
            
            <!-- Image container -->
            <div class="flex items-center justify-center w-full h-full px-20 py-16">
                <img id="viewerImage" src="" alt="" class="max-w-full max-h-full object-contain rounded-lg shadow-2xl">
            </div>
            
            <!-- Image counter -->
            <div class="absolute bottom-6 left-1/2 transform -translate-x-1/2 text-white text-lg bg-black bg-opacity-70 px-4 py-2 rounded-full">
                <span id="imageCounter">1 / 2</span>
            </div>
            
            <!-- Image description -->
            <div class="absolute bottom-16 left-1/2 transform -translate-x-1/2 text-white text-center bg-black bg-opacity-70 px-6 py-3 rounded-lg max-w-lg">
                <p id="imageDescription" class="text-lg">数据分析可视化图表</p>
            </div>
        </div>
    </div>

    <!-- Agent Modal -->
    <div id="agentModal" class="modal fixed inset-0 bg-black bg-opacity-75 z-50 hidden items-center justify-center p-4">
        <div class="modal-content bg-white rounded-2xl shadow-2xl w-full max-w-6xl max-h-[90vh] flex flex-col" onclick="event.stopPropagation()">
            <div class="flex justify-between items-center p-5 border-b border-gray-200">
                <h2 class="text-2xl font-bold text-dark-text" data-zh="智能体市场分析与产品战略" data-en="AI Agent Market Analysis & Product Strategy">智能体市场分析与产品战略</h2>
                <button class="text-gray-400 hover:text-red-500 transition-transform duration-300 transform hover:rotate-90" onclick="closeModal('agentModal')">
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            <div class="p-8 overflow-y-auto flex-grow">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div>
                        <h3 class="text-xl font-semibold text-dark-text mb-4" data-zh="项目概述" data-en="Project Overview">项目概述</h3>
                        <p class="text-gray-700 leading-relaxed mb-6" data-zh="在云鲸致担任AI产品经理期间，负责云秒搭智能体平台的0-1定义与战略规划。通过深度市场分析，为产品找到差异化定位。这份报告详细阐述了市场增长前景、技术生态、竞争力格局以及未来的发展趋势。" data-en="During my tenure as an AI Product Manager at YunJingZhi, I was responsible for the 0-to-1 definition and strategic planning of the Yunmiaoda AI Agent platform. Through in-depth market analysis, I identified a differentiated positioning for the product. This report elaborates on market growth prospects, the technological ecosystem, the competitive landscape, and future trends.">
                            在云鲸致担任AI产品经理期间，负责云秒搭智能体平台的0-1定义与战略规划。通过深度市场分析，为产品找到差异化定位。这份报告详细阐述了市场增长前景、技术生态、竞争力格局以及未来的发展趋势。
                        </p>
                        
                        <h3 class="text-xl font-semibold text-dark-text mb-4" data-zh="核心贡献" data-en="Key Contributions">核心贡献</h3>
                        <ul class="space-y-3 text-gray-700">
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-primary-blue mt-1 mr-3 flex-shrink-0"></i>
                                <span data-zh="通过对Coze, Dify等5款竞品的深度拆解，识别市场空白" data-en="Identified market gaps through in-depth analysis of 5 competitors including Coze and Dify">通过对Coze, Dify等5款竞品的深度拆解，识别市场空白</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-primary-blue mt-1 mr-3 flex-shrink-0"></i>
                                <span data-zh="访谈超过10位垂直行业商家，精准洞察用户需求与痛点" data-en="Interviewed over 10 vertical industry merchants to gain insights into user needs and pain points">访谈超过10位垂直行业商家，精准洞察用户需求与痛点</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-primary-blue mt-1 mr-3 flex-shrink-0"></i>
                                <span data-zh="绘制产品路线图，确立"垂直行业解决方案工厂"的核心战略定位" data-en="Drew product roadmap and established the core strategic positioning of 'Vertical Industry Solution Factory'">绘制产品路线图，确立"垂直行业解决方案工厂"的核心战略定位</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-check-circle text-primary-blue mt-1 mr-3 flex-shrink-0"></i>
                                <span data-zh="负责底层多模态模型选型，使关键指标识别率领先竞品+15%" data-en="Responsible for underlying multimodal model selection, achieving 15% higher key indicator recognition rate than competitors">负责底层多模态模型选型，使关键指标识别率领先竞品+15%</span>
                            </li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold text-dark-text mb-4" data-zh="市场分析图表" data-en="Market Analysis Charts">市场分析图表</h3>
                        <div class="space-y-4">
                            <!-- 市场增长图表 -->
                            <div class="bg-gradient-to-br from-blue-50 to-indigo-100 p-6 rounded-lg">
                                <div class="flex items-center justify-between mb-4">
                                    <h4 class="font-semibold text-gray-800">市场增长趋势</h4>
                                    <span class="text-xs bg-blue-200 text-blue-800 px-2 py-1 rounded-full">2023-2028</span>
                                </div>
                                <div class="space-y-3">
                                    <div class="flex justify-between items-center">
                                        <span class="text-sm text-gray-600">2023年</span>
                                        <span class="text-sm font-semibold text-blue-600">$5.2B</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-sm text-gray-600">2024年</span>
                                        <span class="text-sm font-semibold text-blue-600">$7.5B</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-sm text-gray-600">2028年</span>
                                        <span class="text-sm font-semibold text-blue-600">$45.0B</span>
                                    </div>
                                </div>
                                <div class="mt-3 pt-3 border-t border-blue-200">
                                    <p class="text-xs text-center text-blue-600 font-medium">CAGR: 53.9%</p>
                                </div>
                            </div>

                            <!-- 技术生态架构 -->
                            <div class="bg-gradient-to-br from-green-50 to-emerald-100 p-6 rounded-lg">
                                <div class="flex items-center justify-between mb-4">
                                    <h4 class="font-semibold text-gray-800">技术生态</h4>
                                    <span class="text-xs bg-green-200 text-green-800 px-2 py-1 rounded-full">4层架构</span>
                                </div>
                                <div class="space-y-2">
                                    <div class="flex items-center text-sm">
                                        <div class="w-3 h-3 bg-red-400 rounded-full mr-2"></div>
                                        <span class="text-gray-700">应用层</span>
                                    </div>
                                    <div class="flex items-center text-sm">
                                        <div class="w-3 h-3 bg-yellow-400 rounded-full mr-2"></div>
                                        <span class="text-gray-700">框架平台层</span>
                                    </div>
                                    <div class="flex items-center text-sm">
                                        <div class="w-3 h-3 bg-green-400 rounded-full mr-2"></div>
                                        <span class="text-gray-700">基础模型层</span>
                                    </div>
                                    <div class="flex items-center text-sm">
                                        <div class="w-3 h-3 bg-blue-400 rounded-full mr-2"></div>
                                        <span class="text-gray-700">基础设施层</span>
                                    </div>
                                </div>
                            </div>

                            <!-- 竞争格局 -->
                            <div class="bg-gradient-to-br from-purple-50 to-pink-100 p-6 rounded-lg">
                                <div class="flex items-center justify-between mb-4">
                                    <h4 class="font-semibold text-gray-800">竞争格局</h4>
                                    <span class="text-xs bg-purple-200 text-purple-800 px-2 py-1 rounded-full">5大玩家</span>
                                </div>
                                <div class="space-y-2">
                                    <div class="flex justify-between items-center text-sm">
                                        <span class="text-gray-700">OpenAI</span>
                                        <div class="flex space-x-1">
                                            <div class="w-2 h-2 bg-red-500 rounded-full"></div>
                                            <div class="w-2 h-2 bg-red-500 rounded-full"></div>
                                            <div class="w-2 h-2 bg-red-500 rounded-full"></div>
                                            <div class="w-2 h-2 bg-red-500 rounded-full"></div>
                                            <div class="w-2 h-2 bg-gray-300 rounded-full"></div>
                                        </div>
                                    </div>
                                    <div class="flex justify-between items-center text-sm">
                                        <span class="text-gray-700">Microsoft</span>
                                        <div class="flex space-x-1">
                                            <div class="w-2 h-2 bg-blue-500 rounded-full"></div>
                                            <div class="w-2 h-2 bg-blue-500 rounded-full"></div>
                                            <div class="w-2 h-2 bg-blue-500 rounded-full"></div>
                                            <div class="w-2 h-2 bg-blue-500 rounded-full"></div>
                                            <div class="w-2 h-2 bg-gray-300 rounded-full"></div>
                                        </div>
                                    </div>
                                    <div class="flex justify-between items-center text-sm">
                                        <span class="text-gray-700">LangChain</span>
                                        <div class="flex space-x-1">
                                            <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                                            <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                                            <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                                            <div class="w-2 h-2 bg-gray-300 rounded-full"></div>
                                            <div class="w-2 h-2 bg-gray-300 rounded-full"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="text-center mt-8 pt-6 border-t border-gray-200">
                    <a href="ai_agent_report.html" target="_blank" class="inline-block bg-primary-blue text-white font-bold py-3 px-8 rounded-lg shadow-lg hover:bg-blue-700 transition-transform transform hover:scale-105" data-zh="查看完整报告" data-en="View Full Report">
                        查看完整报告
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Paper PDF Modal -->
    <div id="paperModal" class="fixed inset-0 bg-black bg-opacity-75 hidden z-[70] flex items-center justify-center p-4">
        <div class="bg-white rounded-xl max-w-6xl max-h-[90vh] overflow-y-auto p-6 relative">
            <button onclick="closePaperModal()" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700 z-10">
                <i class="fas fa-times text-xl"></i>
            </button>
            
            <div class="mb-6">
                <h2 class="text-2xl font-bold text-gray-900 mb-2" data-zh="Zero-Shot 建筑风格分类研究" data-en="Zero-Shot Architectural Style Classification">Zero-Shot 建筑风格分类研究</h2>
                <p class="text-gray-600 mb-4" data-zh="基于大语言模型的建筑风格分类研究，发表于CAAD FUTURES 2025国际会议。" data-en="Research on architectural style classification using LLM, published at CAAD FUTURES 2025.">基于大语言模型的建筑风格分类研究，发表于CAAD FUTURES 2025国际会议。</p>
            </div>

            <!-- Poster展示 -->
            <div class="mb-6">
                <h3 class="text-lg font-semibold text-gray-900 mb-3" data-zh="研究成果展示" data-en="Research Showcase">研究成果展示</h3>
                <div class="bg-gray-50 p-4 rounded-lg">
                    <img src="./material/2-paper/poster.png" alt="Research Poster" class="w-full h-auto rounded-lg shadow-lg cursor-pointer" onclick="openPaperImageViewer(0)">
                    <p class="text-center text-sm text-gray-500 mt-2" data-zh="CAAD FUTURES 2025 会议海报" data-en="CAAD FUTURES 2025 Conference Poster">CAAD FUTURES 2025 会议海报</p>
                </div>
            </div>

            <!-- 核心发现 -->
            <div class="mb-6">
                <h3 class="text-lg font-semibold text-gray-900 mb-3" data-zh="核心发现" data-en="Key Findings">核心发现</h3>
                <ul class="space-y-2 text-gray-700">
                    <li data-zh="• 开发了基于大语言模型的零样本建筑风格分类方法" data-en="• Developed zero-shot architectural style classification using LLM">• 开发了基于大语言模型的零样本建筑风格分类方法</li>
                    <li data-zh="• 在多个建筑数据集上实现了优秀的分类性能" data-en="• Achieved excellent classification performance on multiple datasets">• 在多个建筑数据集上实现了优秀的分类性能</li>
                    <li data-zh="• 为建筑设计智能化提供了新的技术路径" data-en="• Provided new technical approaches for architectural design intelligence">• 为建筑设计智能化提供了新的技术路径</li>
                </ul>
            </div>

            <!-- 下载按钮 -->
            <div class="flex justify-center">
                <a href="./material/2-paper/CAAD_FUTURE2025-304-Final_Camera-Ready.pdf" download="CAAD_FUTURE2025_ZeroShot_Paper.pdf" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center">
                    <i class="fas fa-download mr-2"></i>
                    <span data-zh="下载完整论文" data-en="Download Full Paper">下载完整论文</span>
                </a>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark-text text-white py-12">
        <div class="max-w-7xl mx-auto px-3 sm:px-4 lg:px-6">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <p class="text-gray-300">© 2025 Li Lei. All rights reserved.</p>
                </div>
                <div class="flex space-x-6">
                    <a href="mailto:lileiaad@connect.hku.hk" class="text-gray-300 hover:text-white transition-colors">
                        <i class="fas fa-envelope text-xl"></i>
                    </a>
                    <a href="https://linkedin.com/in/lilei" class="text-gray-300 hover:text-white transition-colors">
                        <i class="fab fa-linkedin text-xl"></i>
                    </a>
                    <a href="https://github.com/lilei" class="text-gray-300 hover:text-white transition-colors">
                        <i class="fab fa-github text-xl"></i>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- 小精灵聊天机器人 -->
    <div class="chatbot-toggle" onclick="toggleChatbot()">
        <i class="fas fa-robot"></i>
    </div>

    <div id="chatbotWindow" class="chatbot-window">
        <div class="chatbot-header">
            <h3>🤖 AI助手</h3>
            <button class="chatbot-close" onclick="toggleChatbot()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="chatbot-messages" id="chatbotMessages">
            <div class="message bot">
                你好！我是李磊的智能AI助手，基于GPT-5-nano模型为您提供服务！我可以详细介绍李磊的项目经历、研究背景、专业技能等信息。有什么想了解的吗？
            </div>
        </div>
        <div class="typing-indicator" id="typingIndicator">
            <div class="typing-dot"></div>
            <div class="typing-dot"></div>
            <div class="typing-dot"></div>
        </div>
        <div class="chatbot-input">
            <input type="text" id="chatbotInput" placeholder="输入您的问题..." onkeypress="handleKeyPress(event)">
            <button class="chatbot-send" onclick="sendMessage()">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>

    <script>
        // Mobile menu toggle
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');

        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // Fade in animation on scroll

        // Modal functions
        function openHousingModal() {
            document.getElementById('housingModal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeHousingModal() {
            document.getElementById('housingModal').classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        // Close modal when clicking outside
        document.getElementById('housingModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeHousingModal();
            }
        });

        // Image viewer functionality for housing research
        const housingImages = [
            {
                src: 'material/1-房价数据/Jobs-20250328-打印_页面_16.jpg',
                alt: '深圳房价与微博情绪关系研究',
                description: '研究项目概述与背景介绍'
            },
            {
                src: 'material/1-房价数据/Jobs-20250328-打印_页面_17.jpg',
                alt: '微博情绪分析工作流程',
                description: 'Bi-LSTM模型与情绪分析方法'
            },
            {
                src: 'material/1-房价数据/Jobs-20250328-打印_页面_18.jpg',
                alt: '空间分布系数分析',
                description: '深圳各区域情绪与房价相关性分析'
            },
            {
                src: 'material/1-房价数据/Jobs-20250328-打印_页面_19.jpg',
                alt: '微博与房价数据框架',
                description: '数据处理框架与POI分类'
            },
            {
                src: 'material/1-房价数据/Jobs-20250328-打印_页面_20.jpg',
                alt: 'GWR建模相关性分析',
                description: '地理加权回归模型分析结果'
            }
        ];

        // Paper images array
        const paperImages = [
            {
                src: 'material/2-paper/poster.png',
                alt: 'CAAD FUTURES 2025 会议海报',
                description: 'Zero-Shot 建筑风格分类研究海报'
            }
        ];
        
        let currentImageIndex = 0;
        let currentImageSet = [];

        // Housing image viewer functions
        function openHousingImageViewer(index) {
            currentImageSet = housingImages;
            currentImageIndex = index;
            updateImageViewer();
            document.getElementById('imageViewer').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        // Paper image viewer functions
        function openPaperImageViewer(index) {
            currentImageSet = paperImages;
            currentImageIndex = index;
            updateImageViewer();
            document.getElementById('imageViewer').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeImageViewer() {
            document.getElementById('imageViewer').classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        function nextImage() {
            currentImageIndex = (currentImageIndex + 1) % currentImageSet.length;
            updateImageViewer();
        }

        function previousImage() {
            currentImageIndex = (currentImageIndex - 1 + currentImageSet.length) % currentImageSet.length;
            updateImageViewer();
        }

        function updateImageViewer() {
            const viewerImage = document.getElementById('viewerImage');
            const imageCounter = document.getElementById('imageCounter');
            const imageDescription = document.getElementById('imageDescription');
            
            if (viewerImage && imageCounter && imageDescription) {
                viewerImage.src = currentImageSet[currentImageIndex].src;
                viewerImage.alt = currentImageSet[currentImageIndex].alt;
                imageCounter.textContent = `${currentImageIndex + 1} / ${currentImageSet.length}`;
                imageDescription.textContent = currentImageSet[currentImageIndex].description;
            }
        }

        // Close image viewer when clicking outside the image
        document.getElementById('imageViewer').addEventListener('click', function(e) {
            if (e.target === this) {
                closeImageViewer();
            }
        });

        // Unified keyboard navigation
        document.addEventListener('keydown', function(e) {
            const imageViewer = document.getElementById('imageViewer');
            const housingModal = document.getElementById('housingModal');
            const paperModal = document.getElementById('paperModal');
            
            // Handle modal close
            if (e.key === 'Escape') {
                if (!imageViewer.classList.contains('hidden')) {
                    closeImageViewer();
                } else if (!housingModal.classList.contains('hidden')) {
                    closeHousingModal();
                } else if (!paperModal.classList.contains('hidden')) {
                    closePaperModal();
                }
            }
            
            // Handle image navigation
            if (!imageViewer.classList.contains('hidden')) {
                if (e.key === 'ArrowLeft') {
                    previousImage();
                } else if (e.key === 'ArrowRight') {
                    nextImage();
                }
            }
            
            // Handle PDF navigation
            if (!paperModal.classList.contains('hidden')) {
                if (e.key === 'ArrowLeft') {
                    previousPage();
                } else if (e.key === 'ArrowRight') {
                    nextPage();
                } else if (e.key === '=' || e.key === '+') {
                    zoomIn();
                } else if (e.key === '-') {
                    zoomOut();
                }
            }
        });

        // Language switching functionality
        let currentLanguage = localStorage.getItem('preferred-language') || 'zh';
        
        function toggleLanguage() {
            currentLanguage = currentLanguage === 'zh' ? 'en' : 'zh';
            localStorage.setItem('preferred-language', currentLanguage);
            updateLanguageDisplay();
        }
        
        function updateLanguageDisplay() {
            // Update all elements with data-zh and data-en attributes
            const elements = document.querySelectorAll('[data-zh][data-en]');
            elements.forEach(element => {
                if (currentLanguage === 'zh') {
                    element.innerHTML = element.getAttribute('data-zh');
                } else {
                    element.innerHTML = element.getAttribute('data-en');
                }
            });
            
            // Update language toggle button text
            const currentLang = document.getElementById('currentLang');
            const currentLangMobile = document.getElementById('currentLangMobile');
            if (currentLang) {
                currentLang.textContent = currentLanguage === 'zh' ? '中' : 'EN';
            }
            if (currentLangMobile) {
                currentLangMobile.textContent = currentLanguage === 'zh' ? '中' : 'EN';
            }
            
            // Update HTML lang attribute
            document.documentElement.lang = currentLanguage === 'zh' ? 'zh-CN' : 'en';
        }
        
        // Set active navigation link based on current page
        function setActiveNavLink() {
            const currentPage = window.location.pathname.split('/').pop() || 'home.html';
            const navLinks = document.querySelectorAll('.nav-link');
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                const href = link.getAttribute('href');
                if (href && href.includes(currentPage)) {
                    link.classList.add('active');
                }
            });
            
            // Also handle mobile menu links
            const mobileNavLinks = document.querySelectorAll('#mobile-menu a');
            mobileNavLinks.forEach(link => {
                link.classList.remove('active');
                const href = link.getAttribute('href');
                if (href && href.includes(currentPage)) {
                    link.classList.add('active');
                }
            });
        }

        // 初始化对话历史数组
        let conversationHistory = [];

        // Initialize language on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize language first
            updateLanguageDisplay();
            setActiveNavLink();
            
            // Initialize fade-in animations
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, observerOptions);

            // Observe all fade-in elements
            document.querySelectorAll('.fade-in').forEach(el => {
                observer.observe(el);
            });
            
            // Add event listeners for language toggle buttons
            const langToggle = document.getElementById('langToggle');
            const langToggleMobile = document.getElementById('langToggleMobile');
            
            if (langToggle) {
                langToggle.addEventListener('click', toggleLanguage);
            }
            if (langToggleMobile) {
                langToggleMobile.addEventListener('click', toggleLanguage);
            }
        });

        // PDF Viewer functionality
        let pdfDoc = null;
        let pageNum = 1;
        let pageIsRendering = false;
        let pageNumIsPending = null;
        let scale = 1.2;
        const canvas = document.getElementById('pdfCanvas');
        const ctx = canvas.getContext('2d');

        // Configure PDF.js worker
        if (typeof pdfjsLib !== 'undefined') {

        }

        // Render page
        const renderPage = (num) => {
            pageIsRendering = true;
            
            // Get page
            pdfDoc.getPage(num).then(page => {
                const viewport = page.getViewport({ scale });
                canvas.height = viewport.height;
                canvas.width = viewport.width;

                const renderCtx = {
                    canvasContext: ctx,
                    viewport
                };

                page.render(renderCtx).promise.then(() => {
                    pageIsRendering = false;

                    if (pageNumIsPending !== null) {
                        renderPage(pageNumIsPending);
                        pageNumIsPending = null;
                    }
                });

                // Update page info
                document.getElementById('pageInfo').textContent = 
                    currentLanguage === 'zh' ? 
                    `第 ${num} 页 / 共 ${pdfDoc.numPages} 页` : 
                    `Page ${num} of ${pdfDoc.numPages}`;

                // Update button states
                document.getElementById('prevPageBtn').disabled = (num <= 1);
                document.getElementById('nextPageBtn').disabled = (num >= pdfDoc.numPages);
            });
        };

        // Check for pages rendering
        const queueRenderPage = (num) => {
            if (pageIsRendering) {
                pageNumIsPending = num;
            } else {
                renderPage(num);
            }
        };



        // Open Agent modal
        function openAgentModal() {
            document.getElementById('agentModal').classList.remove('hidden');
            document.getElementById('agentModal').classList.add('flex');
            document.body.classList.add('overflow-hidden');
        }

        // Close modal
        function closeModal(modalId) {
            document.getElementById(modalId).classList.add('hidden');
            document.body.classList.remove('overflow-hidden');
        }

        // Open PDF modal
        function openPaperModal() {
            const modal = document.getElementById('paperModal');
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        // Close PDF modal
        function closePaperModal() {
            document.getElementById('paperModal').classList.add('hidden');
            document.body.style.overflow = 'auto';
            
            // Reset state
            if (pdfDoc) {
                pdfDoc = null;
                pageNum = 1;
                scale = 1.2;
                document.getElementById('zoomLevel').textContent = '120%';
            }
        }

        // Close modal when clicking outside
        document.getElementById('paperModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closePaperModal();
            }
        });

        // 聊天机器人功能
        let chatbotOpen = false;

        function toggleChatbot() {
            const chatbotWindow = document.getElementById('chatbotWindow');
            chatbotOpen = !chatbotOpen;
            
            if (chatbotOpen) {
                chatbotWindow.classList.add('show');
                document.getElementById('chatbotInput').focus();
            } else {
                chatbotWindow.classList.remove('show');
            }
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        async function sendMessage() {
            const input = document.getElementById('chatbotInput');
            const message = input.value.trim();
            
            if (message === '') return;
            
            // 添加用户消息
            addMessage(message, 'user');
            input.value = '';
            
            // 显示打字指示器
            showTypingIndicator();
            
            try {
                // 调用真实的OpenAI API
                const response = await callOpenAI(message);
                hideTypingIndicator();
                addMessage(response, 'bot');
            } catch (error) {
                console.error('API调用失败:', error);
                hideTypingIndicator();
                // 如果API失败，回退到本地回复
                const fallbackResponse = generateResponse(message);
                addMessage(fallbackResponse, 'bot');
            }
        }

        async function callOpenAI(message) {
            const API_KEY = 'sk-u8uCPPzw8TXmcBHJ1pMOaBlI27AJMO4zlREVc4oNeBkHExLE';
            const API_URL = 'https://turingai.plus/v1/chat/completions';
            
            const systemPrompt = `你是李磊的AI助手，专门为访问他个人网站的用户提供服务。

关于李磊的基本信息：
- AI产品经理，硕士毕业于香港大学，本科毕业于长沙理工大学
- 曾获评湖南省优秀毕业生（前1%）
- 在云鲸致人工智能担任AI产品经理，主导云秒搭智能体平台0-1建设
- 在香港大学担任研究助理，研究AIGC赋能建筑设计
- 研究成果发表于CAAD FUTURES 2025国际会议（第一作者）

主要项目经历：
1. 云秒搭智能体平台 - 基于"垂直行业解决方案工厂"战略，识别准确率领先竞品15%
2. 建筑参数化协同设计平台 - 将协同周期缩短37%
3. AR/VR建筑设计应用 - 基于Unity开发的沉浸式平台
4. 深圳房价与微博情绪关系研究 - 与MIT学者合作的数据科学项目

技能领域：AI产品设计、市场分析、用户研究、Python、React、GPT-4V、Unity、机器学习

联系方式：
- 邮箱：lileiaad@connect.hku.hk
- 电话：(86) 15243684038
- LinkedIn：linkedin.com/in/lilei
- GitHub：github.com/lilei

请以友好、专业的语气回答用户问题，重点介绍李磊的专业能力和项目经验。`;

            const response = await fetch(API_URL, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${API_KEY}`
                },
                body: JSON.stringify({
                    model: 'gpt-5-nano-2025-08-07',
                    messages: [
                        {
                            role: 'system',
                            content: systemPrompt
                        },
                        {
                            role: 'user',
                            content: message
                        }
                    ],
                    max_tokens: 500,
                    temperature: 0.7
                })
            });

            if (!response.ok) {
                throw new Error(`API请求失败: ${response.status}`);
            }

            const data = await response.json();
            return data.choices[0].message.content;
        }

        function addMessage(text, sender) {
            const messagesContainer = document.getElementById('chatbotMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            messageDiv.textContent = text;
            
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
            
            // 保存对话历史
            conversationHistory.push({ text, sender, timestamp: new Date() });
        }

        function showTypingIndicator() {
            document.getElementById('typingIndicator').style.display = 'flex';
            const messagesContainer = document.getElementById('chatbotMessages');
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function hideTypingIndicator() {
            document.getElementById('typingIndicator').style.display = 'none';
        }

        function generateResponse(userMessage) {
            const message = userMessage.toLowerCase();
            const isChinese = currentLanguage === 'zh';
            
            // 问候语
            if (message.includes('你好') || message.includes('hi') || message.includes('hello')) {
                return isChinese ? 
                    '你好！很高兴见到你！我是李磊的AI助手，可以为您介绍他的项目、研究经历和专业技能。有什么想了解的吗？' :
                    'Hello! Nice to meet you! I am Li Lei\'s AI assistant and can introduce you to his projects, research experience and professional skills. What would you like to know?';
            }
            
            // 关于李磊
            if (message.includes('李磊') || message.includes('介绍') || message.includes('背景')) {
                return isChinese ? 
                    '李磊是一位AI产品经理，硕士毕业于香港大学，本科毕业于长沙理工大学。他具备从前沿研究到产品落地的全链路能力，擅长以产品化方法探索和驱动AI技术的商业价值。' :
                    'Li Lei is an AI Product Manager who graduated with a Master\'s degree from the University of Hong Kong and a Bachelor\'s degree from Changsha University of Science and Technology. He has comprehensive capabilities from cutting-edge research to product implementation, specializing in exploring and driving the commercial value of AI technology through product-oriented methodologies.';
            }
            
            // 项目相关
            if (message.includes('项目') || message.includes('云秒搭') || message.includes('智能体')) {
                return isChinese ? 
                    '李磊主导了云秒搭智能体平台的0-1建设，基于"垂直行业解决方案工厂"的核心战略。通过深度竞品分析与用户访谈，将识别准确率做到领先竞品15%，同时降低了20%的推理成本。' :
                    'Li Lei led the 0-to-1 development of the Yunmiaoda AI Agent platform, based on the core strategy of "Vertical Industry Solution Factory". Through in-depth competitive analysis and user interviews, he achieved 15% higher recognition accuracy than competitors while reducing inference costs by 20%.';
            }
            
            // 研究相关
            if (message.includes('研究') || message.includes('论文') || message.includes('caad')) {
                return isChinese ? 
                    '李磊在香港大学担任研究助理期间，将产品化方法应用于AIGC赋能建筑设计的研究。他的研究成果以第一作者身份发表于CAAD FUTURES 2025，将设计方案的整体产出效率提升了7倍。' :
                    'During his tenure as a Research Assistant at the University of Hong Kong, Li Lei applied product-oriented methodologies to AIGC-enabled architectural design research. His research findings were published as the first author at CAAD FUTURES 2025, improving overall design output efficiency by 7 times.';
            }
            
            // 技能相关
            if (message.includes('技能') || message.includes('技术') || message.includes('能力')) {
                return isChinese ? 
                    '李磊具备AI产品设计、市场分析、用户研究、技术选型等核心能力。熟练掌握Python、React、GPT-4V、Unity等技术栈，在AI Agent、计算机视觉、机器学习等领域有丰富经验。' :
                    'Li Lei possesses core capabilities in AI product design, market analysis, user research, and technical selection. He is proficient in Python, React, GPT-4V, Unity and other tech stacks, with rich experience in AI Agent, computer vision, machine learning and other fields.';
            }
            
            // 联系方式
            if (message.includes('联系') || message.includes('邮箱') || message.includes('电话')) {
                return isChinese ? 
                    '您可以通过以下方式联系李磊：\n📧 邮箱：lileiaad@connect.hku.hk\n📱 电话：(86) 15243684038\n💼 LinkedIn：linkedin.com/in/lilei\n💻 GitHub：github.com/lilei' :
                    'You can contact Li Lei through the following ways:\n📧 Email: lileiaad@connect.hku.hk\n📱 Phone: (86) 15243684038\n💼 LinkedIn: linkedin.com/in/lilei\n💻 GitHub: github.com/lilei';
            }
            
            // 工作经验
            if (message.includes('工作') || message.includes('经验') || message.includes('云鲸致')) {
                return isChinese ? 
                    '李磊在云鲸致人工智能担任AI产品经理，作为初创团队核心成员，主导了云秒搭智能体平台从0到1的建设。在深圳市建筑设计研究总院担任建筑师期间，开发了参数化协同设计平台，将协同周期缩短37%。' :
                    'Li Lei served as an AI Product Manager at YunJingZhi AI, as a core member of the startup team, leading the 0-to-1 development of the Yunmiaoda AI Agent platform. During his tenure as an architect at SZADI, he developed a parametric collaborative design platform that reduced collaboration cycles by 37%.';
            }
            
            // 教育背景
            if (message.includes('教育') || message.includes('学历') || message.includes('大学')) {
                return isChinese ? 
                    '李磊硕士毕业于香港大学，本科毕业于长沙理工大学，曾获评湖南省优秀毕业生（前1%）。在香港大学期间专注于AIGC赋能建筑设计的研究。' :
                    'Li Lei graduated with a Master\'s degree from the University of Hong Kong and a Bachelor\'s degree from Changsha University of Science and Technology, where he was honored as a Top 1% Outstanding Graduate of Hunan Province. During his time at HKU, he focused on AIGC-enabled architectural design research.';
            }
            
            // 默认回复
            const defaultResponses = isChinese ? [
                '这是一个很有趣的问题！李磊在AI产品管理方面有很多经验，您想了解他的哪个项目呢？',
                '让我为您介绍一下李磊的专业背景。他是AI产品经理，在智能体平台、建筑参数化设计、数据科学等领域都有丰富经验。',
                '您想了解李磊的哪个方面呢？我可以为您介绍他的项目经历、研究背景、专业技能或联系方式。',
                '李磊是一位很有才华的AI产品经理，在多个领域都有出色表现。您对哪个方面比较感兴趣？'
            ] : [
                'That\'s a very interesting question! Li Lei has a lot of experience in AI product management. Which of his projects would you like to know about?',
                'Let me introduce Li Lei\'s professional background. He is an AI Product Manager with rich experience in AI Agent platforms, parametric design, data science and other fields.',
                'What aspect of Li Lei would you like to know about? I can introduce you to his project experience, research background, professional skills or contact information.',
                'Li Lei is a very talented AI Product Manager with outstanding performance in multiple fields. Which aspect are you most interested in?'
            ];
            
            return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
        }

        // 点击外部关闭聊天窗口
        document.addEventListener('click', function(event) {
            const chatbotWindow = document.getElementById('chatbotWindow');
            const chatbotToggle = document.querySelector('.chatbot-toggle');
            
            if (chatbotOpen && 
                !chatbotWindow.contains(event.target) && 
                !chatbotToggle.contains(event.target)) {
                toggleChatbot();
            }
        });
    </script>
</body>
</html>
